<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>测试</title>
  <meta name="description" content="这是一个 index 页面">
  <meta name="keywords" content="index">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <link rel="icon" type="image/png" href="assets/i/favicon.png">
  <link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">
  <meta name="apple-mobile-web-app-title" content="Amaze UI" />
  <link rel="stylesheet" href="assets/css/amazeui.min.css"/>
  <link rel="stylesheet" href="assets/css/admin.css">
  <link rel="stylesheet" href="assets/css/admin_custom.css" />
	<script src="assets/js/jquery.min.js"></script>	
</head>
<body>
	<style>
		.pd8 {
			padding: 0.7rem;
		}
		
		@media only screen and (min-width: 1330px) {
			.show1 {
				display: none;
			}
		}
		
		@media (min-width: 1330px) {
			.show1 {
				display: none;
			}
		}
		.am-nav-pills>li+li{
			margin-left: 0px !important;
		}
		.am-topbar, .am-topbar a{
			color: #ddd;
		}
		.am-nav>li>a:focus, .am-nav>li>a:hover{
			background-color: #4f627e;
		}
		.headerbg{
			border-color: #50627f !important;
		}
		body{font-size: 1.4em;}
		.admin-sidebar-list li a{
			padding-left: 15px;
		}
		.admin-sidebar{
			width: 245px;
		}
		.headermenu span{
			display: block;
			padding-bottom: 8px;
		}		
	</style>	
  <!-- content start -->
  <div class="admin-content">
		<div class="pageheader notab">
            <h1 class="pagetitle">表格测试</h1>
    </div>
		<div class="am-margin-bottom"></div>
    <div class="am-g">
      <div class="am-u-sm-12 am-u-md-6">
        <div class="am-btn-toolbar">
          <div class="am-btn-group am-btn-group-xs">
            <button type="button" class="am-btn am-btn-default"><span class="am-icon-plus"></span> 新增</button>
            <button type="button" class="am-btn am-btn-default"><span class="am-icon-save"></span> 保存</button>
            <button type="button" class="am-btn am-btn-default"><span class="am-icon-archive"></span> 审核</button>
            <button type="button" class="am-btn am-btn-default"><span class="am-icon-trash-o"></span> 删除</button>
          </div>
        </div>
      </div>
      <div class="am-u-sm-12 am-u-md-3">
        <div class="am-form-group">
          <select data-am-selected="{btnSize: 'sm'}">
            <option value="option1">所有类别</option>
            <option value="option2">IT业界</option>
            <option value="option3">数码产品</option>
            <option value="option3">笔记本电脑</option>
            <option value="option3">平板电脑</option>
            <option value="option3">只能手机</option>
            <option value="option3">超极本</option>
          </select>
        </div>
      </div>
      <div class="am-u-sm-12 am-u-md-3">
        <div class="am-input-group am-input-group-sm">
          <input type="text" class="am-form-field">
          <span class="am-input-group-btn">
            <button class="am-btn am-btn-default" type="button">搜索</button>
          </span>
        </div>
      </div>
    </div>

    <div class="am-g">
      <div class="am-u-sm-12">
        <form class="am-form">
          <table class="am-table am-table-striped am-table-hover table-main">
            <thead>
              <tr>
                <th class="table-check"><input type="checkbox" /></th>
                <th class="table-id">ID</th>
                <th class="table-title">标题</th>
                <th class="table-type">类别</th>
                <th class="table-author ">作者</th>
                <th class="table-date am-hide-sm-only">修改日期</th>
                <th class="table-set">操作</th>
              </tr>
          </thead>
          <tbody id ="mytbody">
									
          </tbody>
        </table>
          <div class="am-cf">
  		共<span id="count"></span>条记录
  <div class="am-fr">
    <ul id="page" class="am-pagination">

    </ul>
  </div>
</div>
        </form>
      </div>

    </div>
  </div>
  <!-- content end -->
<script type="text/javascript">

function loaddata(currentpage,limit){
	var json ={};
	json.name="汪问问";
	json.code="12345";
	json.start=(currentpage-1)*limit;
	json.limit=limit;
	$.ajax({
		url : "/xywzweb/BankTestAction!index.action",
		dataType : "json",
		data:json,
		type : "GET",
		success : function(response) {
				//console.log(response);
				var data = response.JSON.data;
				var count = response.JSON.count;
				var htmlstr = "";
				$("#count").html(count);
				for(var i=0;i<data.length;i++){			
					htmlstr += " <tr>";
					htmlstr += "<td><input type=\"checkbox\" /></td>";
					htmlstr += "<td>"+(i+1)+"</td>";
					htmlstr += "<td><a href=\"#\">"+data[i].F_NAME+"</a></td>";
					htmlstr += "<td>default</td>";
					htmlstr += "<td>测试1号</td>";
					htmlstr += "<td class=\"am-hide-sm-only\">2014年9月4日 7:28:47</td>";
					htmlstr += "<td>";
					htmlstr += "<div class=\"am-btn-toolbar\">";
					htmlstr += "<div class=\"am-btn-group am-btn-group-xs\">";
					htmlstr += "<a href=\"iframe-test-edit.html?id="+data[i].F_ID+"\"><span class=\"am-icon-pencil-square-o\"></span> 编辑</a>";
					htmlstr += "<button class=\"am-btn am-btn-default am-btn-xs am-hide-sm-only\"><span class=\"am-icon-copy\"></span> 复制</button>";
					htmlstr += "<button class=\"am-btn am-btn-default am-btn-xs am-text-danger am-hide-sm-only\"><span class=\"am-icon-trash-o\"></span> 删除</button>";
					htmlstr += "</div>";
					htmlstr += "</div>";
					htmlstr += "</td>";
					htmlstr += "</tr> ";			
				}
				$("#mytbody").html(htmlstr);
				//分页处理
				var selectnum = 3;//分页选取的页数
				if(count>0){
					var num = Math.ceil(count/limit);
					var pagehtml ="";
					var prepage = 1;
					var	 nextpage = num;
					if(currentpage>1){
						prepage = currentpage-1;
					}
					if(currentpage<num){
						nextpage = currentpage+1;
					}
					pagehtml += "<li><a href='javascript:;' onclick=\"loaddata("+1+","+limit+");\">«</a></li>";
					pagehtml += "<li><a href='javascript:;' onclick=\"loaddata("+prepage+","+limit+");\">‹</a></li>";
					for(var j=currentpage;j<=num&&j<currentpage+selectnum;j++){
						var style ="";
						if(currentpage==j){
							style="class=\"am-active\"";
						}
						pagehtml += "<li "+style+"><a href='javascript:;' onclick=\"loaddata("+j+","+limit+");\">"+j+"</a></li>";
					}
					pagehtml += "<li><a href='javascript:;' onclick=\"loaddata("+nextpage+","+limit+");\">›</a></li>";
					pagehtml += "<li><a href='javascript:;' onclick=\"loaddata("+num+","+limit+");\">»</a></li>";
					$("#page").html(pagehtml);
				}
		}
	})	
}
loaddata(1,5);
</script>
<script src="assets/js/jquery.min.js"></script>
<!--<![endif]-->
<script src="assets/js/amazeui.min.js"></script>
<script src="assets/js/app.js"></script>
</body>
</html>
